#!/bin/sh

# ~/.local/bin (uv, try, obs-*, claude, etc.)
case ":$PATH:" in
    *":$HOME/.local/bin:"*) ;;
    *) export PATH="$HOME/.local/bin:$PATH" ;;
esac

# Cargo
[ -f "$HOME/.cargo/env" ] && . "$HOME/.cargo/env"

# Homebrew (macOS)
[ -x /opt/homebrew/bin/brew ] && eval "$(/opt/homebrew/bin/brew shellenv)"

# TeX (macOS)
[ -d /Library/TeX/texbin ] && case ":$PATH:" in
    *":/Library/TeX/texbin:"*) ;;
    *) export PATH="/Library/TeX/texbin:$PATH" ;;
esac

# Editor
export EDITOR="vim"
command -v nvim >/dev/null && export EDITOR="nvim"
export VISUAL="$EDITOR"

# Machine-local config (vault paths, etc.)
[ -f "$HOME/.dotfiles.local" ] && . "$HOME/.dotfiles.local"
